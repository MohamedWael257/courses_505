"use client";
import ImageWithFallback from "@/shared/ImageWithFallback";
import React, { useEffect, useState } from "react";
import Image from "@/assets/test.jpg";
import { Cart5, Heart, RS } from "@/shared/Icons";
import { useDispatch, useSelector } from "react-redux";
import { AppDispatch, RootState } from "@/store/store";
import CustomBtn from "@/shared/buttons/CustomBtn";
import { AddToFav, RemoveFromFav } from "@/store/favourtis";
import ShowAlertMixin from "@/shared/ShowAlertMixin";
import { useLocale, useTranslations } from "next-intl";
import { addItem } from "@/store/cartStore.slice";

type Props = {
  course: any;
};

export default function CourseDetialsCard({ course }: Props) {
  const [addToCartLoading, setAddToCartLoading] = useState(false);

  const t = useTranslations("");
  const locale = useLocale();
  const dispatch = useDispatch<AppDispatch>();

  const favItems = useSelector(
    (state: RootState) => state.FavouritsConfig.allFavItems
  );
  const [isFavouriteState, setIsFavouriteState] = useState<boolean>(() => {
    if (favItems.length > 0) {
      return favItems.some((item: any) => item.id == course?.id);
    } else if (!favItems.length && !course?.is_favorite) {
      return false;
    }
  });
  useEffect(() => {
    if (favItems.length > 0) {
      setIsFavouriteState(favItems.some((item: any) => item.id == course?.id));
    } else if (!favItems.length && !course?.is_favorite) {
      setIsFavouriteState(false);
    }
  }, [favItems, course?.id]);

  const handleFavouriteToggle = async (id: string): Promise<void> => {
    if (isFavouriteState) {
      try {
        // const { course } = await axiosInstance.delete(`favorites/${id}`);
        // if (course?.status === "success") {
        // await dispatch(getAllFavItems());
        dispatch(RemoveFromFav({ id: id }));

        //   ShowAlertMixin({
        //     type: 15,
        //     icon: "success",
        //     title: course?.message,
        //   });
        //   // setIsFavouriteState(false);
        //   if (refetch) {
        //     refetch();
        //   }
        // }
      } catch (error: any) {
        ShowAlertMixin({
          type: 15,
          icon: "error",
          title: error?.response?.course?.message,
        });
      }
    } else {
      try {
        // const { course } = await axiosInstance.post(`favorites`, {
        //   product_id: id,
        // });
        // if (course?.status === "success") {
        // await dispatch(getAllFavItems());
        dispatch(AddToFav({ id: id }));
        //   ShowAlertMixin({
        //     type: 15,
        //     icon: "success",
        //     title: course?.message,
        //   });
        //   // setIsFavouriteState(true);
        //   if (refetch) {
        //     refetch();
        //   }
        // }
      } catch (error: any) {
        ShowAlertMixin({
          type: 15,
          icon: "success",
          title: error?.response?.course?.message,
        });
      }
    }
  };
  const handleaddToCart = async (course: any) => {
    try {
      setAddToCartLoading(true);
      // const formcourse = new Formcourse();
      // formcourse.append("quantity", values?.quantity);
      // formcourse.append("book_detail_id", selectedbookId);
      // const response = await axiosInstance.post("/cart", formcourse);

      dispatch(
        addItem({
          id: course?.id,
          product: course,
          quantity: 1,
        })
      );
      // dispatch(getAllCartItems());
      ShowAlertMixin({
        type: 15,
        icon: "success",
        title: "success",
      });
    } catch (err: any) {
      ShowAlertMixin({
        type: 15,
        icon: "error",
        title: err?.response?.course?.message ?? "Failed to add item to cart",
      });
      console.log(err);
    } finally {
      setAddToCartLoading(false);
    }
  };
  return (
    <div className="container space-y-4 bg-white  w-[450px] h-fit p-4 rounded-2xl border border-greynormal lg:absolute top-0 end-[225px] z-50">
      <div className="relative">
        <ImageWithFallback
          src={Image}
          width={1790}
          height={900}
          className="w-full h-[250px] object-cover rounded-xl"
          alt="hero"
        />
        {/* <div className="absolute bottom-3 start-0 bg-white text-dark px-3 py-2 rounded-full text-sm font-medium flex gap-1 items-center">
          <span className="text-secondrydark">(30)</span>
        </div> */}
      </div>
      <div className="flex  gap-2 ">
        <span className="flex items-center font-bold text-lg  leading-5 text-start text-primary">
          500
          <RS />
        </span>
        <span className="flex items-center text-base font-bold  leading-5 text-start text-secondrydark line-through">
          500
          <RS className="*:fill-secondrydark" />
        </span>
      </div>
      <div className="flex flex-col gap-3 ">
        <div className="flex items-center gap-2">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M18.0365 1.25H17.9635C17.2243 1.24999 16.6168 1.24998 16.1253 1.29671C15.6146 1.34527 15.1522 1.44953 14.7317 1.70725C14.3141 1.96311 13.9631 2.31414 13.7072 2.73166C13.4495 3.15221 13.3453 3.61456 13.2967 4.12529C13.25 4.61679 13.25 5.2243 13.25 5.96344V6.03655C13.25 6.77569 13.25 7.38322 13.2967 7.87471C13.3453 8.38545 13.4495 8.84779 13.7072 9.26834C13.9631 9.68586 14.3141 10.0369 14.7317 10.2928C15.1522 10.5505 15.6146 10.6547 16.1253 10.7033C16.6168 10.75 17.2243 10.75 17.9634 10.75H18.0366C18.7757 10.75 19.3832 10.75 19.8747 10.7033C20.3854 10.6547 20.8478 10.5505 21.2683 10.2928C21.6859 10.0369 22.0369 9.68586 22.2928 9.26834C22.5505 8.84779 22.6547 8.38545 22.7033 7.87471C22.75 7.38322 22.75 6.7757 22.75 6.03656V5.96344C22.75 5.2243 22.75 4.61679 22.7033 4.12529C22.6547 3.61456 22.5505 3.15221 22.2928 2.73166C22.0369 2.31414 21.6859 1.96311 21.2683 1.70725C20.8478 1.44953 20.3854 1.34527 19.8747 1.29671C19.3832 1.24998 18.7757 1.24999 18.0365 1.25ZM15.5154 2.98621C15.6607 2.8972 15.8663 2.8281 16.2673 2.78997C16.6794 2.75079 17.2153 2.75 18 2.75C18.7847 2.75 19.3206 2.75079 19.7327 2.78997C20.1337 2.8281 20.3393 2.8972 20.4846 2.98621C20.7003 3.11838 20.8816 3.29972 21.0138 3.51541C21.1028 3.66067 21.1719 3.86634 21.21 4.26727C21.2492 4.67937 21.25 5.21526 21.25 6C21.25 6.78474 21.2492 7.32063 21.21 7.73273C21.1719 8.13367 21.1028 8.33934 21.0138 8.48459C20.8816 8.70028 20.7003 8.88162 20.4846 9.01379C20.3393 9.10281 20.1337 9.17191 19.7327 9.21003C19.3206 9.24921 18.7847 9.25 18 9.25C17.2153 9.25 16.6794 9.24921 16.2673 9.21003C15.8663 9.17191 15.6607 9.10281 15.5154 9.01379C15.2997 8.88162 15.1184 8.70028 14.9862 8.48459C14.8972 8.33934 14.8281 8.13367 14.79 7.73273C14.7508 7.32063 14.75 6.78474 14.75 6C14.75 5.21526 14.7508 4.67937 14.79 4.26727C14.8281 3.86634 14.8972 3.66067 14.9862 3.51541C15.1184 3.29972 15.2997 3.11838 15.5154 2.98621Z"
              fill="#FF375E"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M5.96345 1.25H6.03655C6.77569 1.24999 7.38322 1.24998 7.87471 1.29671C8.38545 1.34527 8.84779 1.44953 9.26834 1.70725C9.68586 1.96311 10.0369 2.31414 10.2928 2.73166C10.5505 3.15221 10.6547 3.61456 10.7033 4.12529C10.75 4.61678 10.75 5.22428 10.75 5.96341V6.03656C10.75 6.77569 10.75 7.38322 10.7033 7.87471C10.6547 8.38545 10.5505 8.84779 10.2928 9.26834C10.0369 9.68586 9.68586 10.0369 9.26834 10.2928C8.84779 10.5505 8.38545 10.6547 7.87471 10.7033C7.38322 10.75 6.77572 10.75 6.03659 10.75H5.96344C5.22431 10.75 4.61678 10.75 4.12529 10.7033C3.61456 10.6547 3.15221 10.5505 2.73166 10.2928C2.31414 10.0369 1.96311 9.68586 1.70725 9.26834C1.44953 8.84779 1.34527 8.38545 1.29671 7.87471C1.24998 7.38322 1.24999 6.7757 1.25 6.03656V5.96345C1.24999 5.22431 1.24998 4.61679 1.29671 4.12529C1.34527 3.61456 1.44953 3.15221 1.70725 2.73166C1.96311 2.31414 2.31414 1.96311 2.73166 1.70725C3.15221 1.44953 3.61456 1.34527 4.12529 1.29671C4.61679 1.24998 5.22431 1.24999 5.96345 1.25ZM4.26727 2.78997C3.86634 2.8281 3.66067 2.8972 3.51541 2.98621C3.29972 3.11838 3.11838 3.29972 2.98621 3.51541C2.8972 3.66067 2.8281 3.86634 2.78997 4.26727C2.75079 4.67937 2.75 5.21526 2.75 6C2.75 6.78474 2.75079 7.32063 2.78997 7.73273C2.8281 8.13367 2.8972 8.33934 2.98621 8.48459C3.11838 8.70028 3.29972 8.88162 3.51541 9.01379C3.66067 9.10281 3.86634 9.17191 4.26727 9.21003C4.67937 9.24921 5.21526 9.25 6 9.25C6.78474 9.25 7.32063 9.24921 7.73273 9.21003C8.13367 9.17191 8.33934 9.10281 8.48459 9.01379C8.70028 8.88162 8.88162 8.70028 9.01379 8.48459C9.10281 8.33934 9.17191 8.13367 9.21003 7.73273C9.24921 7.32063 9.25 6.78474 9.25 6C9.25 5.21526 9.24921 4.67937 9.21003 4.26727C9.17191 3.86634 9.10281 3.66067 9.01379 3.51541C8.88162 3.29972 8.70028 3.11838 8.48459 2.98621C8.33934 2.8972 8.13367 2.8281 7.73273 2.78997C7.32063 2.75079 6.78474 2.75 6 2.75C5.21526 2.75 4.67937 2.75079 4.26727 2.78997Z"
              fill="#FF375E"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M5.96345 13.25C5.22433 13.25 4.61678 13.25 4.12529 13.2967C3.61456 13.3453 3.15221 13.4495 2.73166 13.7072C2.31414 13.9631 1.96311 14.3141 1.70725 14.7317C1.44953 15.1522 1.34527 15.6146 1.29671 16.1253C1.24998 16.6168 1.24999 17.2243 1.25 17.9635V18.0365C1.24999 18.7757 1.24998 19.3832 1.29671 19.8747C1.34527 20.3854 1.44953 20.8478 1.70725 21.2683C1.96311 21.6859 2.31414 22.0369 2.73166 22.2928C3.15221 22.5505 3.61456 22.6547 4.12529 22.7033C4.61679 22.75 5.2243 22.75 5.96344 22.75H6.03656C6.7757 22.75 7.38322 22.75 7.87471 22.7033C8.38545 22.6547 8.84779 22.5505 9.26834 22.2928C9.68586 22.0369 10.0369 21.6859 10.2928 21.2683C10.5505 20.8478 10.6547 20.3854 10.7033 19.8747C10.75 19.3832 10.75 18.7757 10.75 18.0366V17.9634C10.75 17.2243 10.75 16.6168 10.7033 16.1253C10.6547 15.6146 10.5505 15.1522 10.2928 14.7317C10.0369 14.3141 9.68586 13.9631 9.26834 13.7072C8.84779 13.4495 8.38545 13.3453 7.87471 13.2967C7.38322 13.25 6.77572 13.25 6.03659 13.25H5.96345ZM3.51541 14.9862C3.66067 14.8972 3.86634 14.8281 4.26727 14.79C4.67937 14.7508 5.21526 14.75 6 14.75C6.78474 14.75 7.32063 14.7508 7.73273 14.79C8.13367 14.8281 8.33934 14.8972 8.48459 14.9862C8.70028 15.1184 8.88162 15.2997 9.01379 15.5154C9.10281 15.6607 9.17191 15.8663 9.21003 16.2673C9.24921 16.6794 9.25 17.2153 9.25 18C9.25 18.7847 9.24921 19.3206 9.21003 19.7327C9.17191 20.1337 9.10281 20.3393 9.01379 20.4846C8.88162 20.7003 8.70028 20.8816 8.48459 21.0138C8.33934 21.1028 8.13367 21.1719 7.73273 21.21C7.32063 21.2492 6.78474 21.25 6 21.25C5.21526 21.25 4.67937 21.2492 4.26727 21.21C3.86634 21.1719 3.66067 21.1028 3.51541 21.0138C3.29972 20.8816 3.11838 20.7003 2.98621 20.4846C2.8972 20.3393 2.8281 20.1337 2.78997 19.7327C2.75079 19.3206 2.75 18.7847 2.75 18C2.75 17.2153 2.75079 16.6794 2.78997 16.2673C2.8281 15.8663 2.8972 15.6607 2.98621 15.5154C3.11838 15.2997 3.29972 15.1184 3.51541 14.9862Z"
              fill="#FF375E"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M19.8747 13.2967C19.3832 13.25 18.7757 13.25 18.0365 13.25H17.9635C17.2243 13.25 16.6168 13.25 16.1253 13.2967C15.6146 13.3453 15.1522 13.4495 14.7317 13.7072C14.3141 13.9631 13.9631 14.3141 13.7072 14.7317C13.4495 15.1522 13.3453 15.6146 13.2967 16.1253C13.25 16.6168 13.25 17.2243 13.25 17.9635V18.0365C13.25 18.7757 13.25 19.3832 13.2967 19.8747C13.3453 20.3854 13.4495 20.8478 13.7072 21.2683C13.9631 21.6859 14.3141 22.0369 14.7317 22.2928C15.1522 22.5505 15.6146 22.6547 16.1253 22.7033C16.6168 22.75 17.2243 22.75 17.9634 22.75H18.0366C18.7757 22.75 19.3832 22.75 19.8747 22.7033C20.3854 22.6547 20.8478 22.5505 21.2683 22.2928C21.6859 22.0369 22.0369 21.6859 22.2928 21.2683C22.5505 20.8478 22.6547 20.3854 22.7033 19.8747C22.75 19.3832 22.75 18.7757 22.75 18.0366V17.9634C22.75 17.2243 22.75 16.6168 22.7033 16.1253C22.6547 15.6146 22.5505 15.1522 22.2928 14.7317C22.0369 14.3141 21.6859 13.9631 21.2683 13.7072C20.8478 13.4495 20.3854 13.3453 19.8747 13.2967ZM15.5154 14.9862C15.6607 14.8972 15.8663 14.8281 16.2673 14.79C16.6794 14.7508 17.2153 14.75 18 14.75C18.7847 14.75 19.3206 14.7508 19.7327 14.79C20.1337 14.8281 20.3393 14.8972 20.4846 14.9862C20.7003 15.1184 20.8816 15.2997 21.0138 15.5154C21.1028 15.6607 21.1719 15.8663 21.21 16.2673C21.2492 16.6794 21.25 17.2153 21.25 18C21.25 18.7847 21.2492 19.3206 21.21 19.7327C21.1719 20.1337 21.1028 20.3393 21.0138 20.4846C20.8816 20.7003 20.7003 20.8816 20.4846 21.0138C20.3393 21.1028 20.1337 21.1719 19.7327 21.21C19.3206 21.2492 18.7847 21.25 18 21.25C17.2153 21.25 16.6794 21.2492 16.2673 21.21C15.8663 21.1719 15.6607 21.1028 15.5154 21.0138C15.2997 20.8816 15.1184 20.7003 14.9862 20.4846C14.8972 20.3393 14.8281 20.1337 14.79 19.7327C14.7508 19.3206 14.75 18.7847 14.75 18C14.75 17.2153 14.7508 16.6794 14.79 16.2673C14.8281 15.8663 14.8972 15.6607 14.9862 15.5154C15.1184 15.2997 15.2997 15.1184 15.5154 14.9862Z"
              fill="#FF375E"
            />
          </svg>
          <p className="text-sm font-normal leading-8 text-start text-secondrytext">
            المهارات المهنية والأعمال
          </p>
        </div>
        <div className="flex items-center gap-2">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12.75 8C12.75 7.58579 12.4142 7.25 12 7.25C11.5858 7.25 11.25 7.58579 11.25 8V12C11.25 12.1989 11.329 12.3897 11.4697 12.5303L13.4697 14.5303C13.7626 14.8232 14.2374 14.8232 14.5303 14.5303C14.8232 14.2374 14.8232 13.7626 14.5303 13.4697L12.75 11.6893V8Z"
              fill="#FF375E"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 17.9371 6.06294 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12C22.75 6.06294 17.9371 1.25 12 1.25ZM2.75 12C2.75 6.89137 6.89137 2.75 12 2.75C17.1086 2.75 21.25 6.89137 21.25 12C21.25 17.1086 17.1086 21.25 12 21.25C6.89137 21.25 2.75 17.1086 2.75 12Z"
              fill="#FF375E"
            />
          </svg>

          <p className="text-sm font-normal leading-8 text-start text-secondrytext">
            المدة 3 شهور
          </p>
        </div>
        <div className="flex items-center gap-2">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M15.75 7C15.75 7.41421 15.4142 7.75 15 7.75H9C8.58579 7.75 8.25 7.41421 8.25 7C8.25 6.58579 8.58579 6.25 9 6.25H15C15.4142 6.25 15.75 6.58579 15.75 7Z"
              fill="#FF375E"
            />
            <path
              d="M12 11.75C12.4142 11.75 12.75 11.4142 12.75 11C12.75 10.5858 12.4142 10.25 12 10.25H9C8.58579 10.25 8.25 10.5858 8.25 11C8.25 11.4142 8.58579 11.75 9 11.75H12Z"
              fill="#FF375E"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M11.4436 1.25H12.5564C14.3942 1.24998 15.8498 1.24997 16.989 1.40314C18.1614 1.56076 19.1104 1.89288 19.8588 2.64124C20.6071 3.38961 20.9392 4.33856 21.0969 5.51098C21.25 6.65018 21.25 8.1058 21.25 9.94354V16.9286C21.25 16.9405 21.2497 16.9525 21.2492 16.9643C21.2492 16.9653 21.2493 16.9664 21.2493 16.9675C21.2498 16.9783 21.25 16.9891 21.25 17C21.25 17.4142 20.9142 17.75 20.5 17.75C19.5335 17.75 18.75 18.5335 18.75 19.5C18.75 20.4665 19.5335 21.25 20.5 21.25C20.9142 21.25 21.25 21.5858 21.25 22C21.25 22.4142 20.9142 22.75 20.5 22.75H6C4.20508 22.75 2.75 21.2949 2.75 19.5V9.94358C2.74998 8.10583 2.74997 6.65019 2.90314 5.51098C3.06076 4.33856 3.39288 3.38961 4.14124 2.64124C4.88961 1.89288 5.83856 1.56076 7.01098 1.40314C8.15019 1.24997 9.60583 1.24998 11.4436 1.25ZM17.7609 21.25C17.4375 20.7449 17.25 20.1443 17.25 19.5C17.25 18.8557 17.4375 18.2551 17.7609 17.75H6C5.03404 17.75 4.25086 18.5326 4.25 19.4984V19.5C4.25047 20.4661 5.03379 21.25 6 21.25H17.7609ZM19.75 10V16.25H6C5.35568 16.25 4.75515 16.4375 4.25 16.7609V10C4.25 8.09318 4.25159 6.73851 4.38976 5.71085C4.52503 4.70476 4.77869 4.12511 5.2019 3.7019C5.62511 3.27869 6.20476 3.02503 7.21085 2.88976C8.23851 2.75159 9.59318 2.75 11.5 2.75H12.5C14.4068 2.75 15.7615 2.75159 16.7892 2.88976C17.7952 3.02503 18.3749 3.27869 18.7981 3.7019C19.2213 4.12511 19.475 4.70476 19.6102 5.71085C19.7484 6.73851 19.75 8.09318 19.75 10Z"
              fill="#FF375E"
            />
          </svg>

          <p className="text-sm font-normal leading-8 text-start text-secondrytext">
            5 فصول{" "}
          </p>
        </div>
        <div className="flex items-center gap-2">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M16 13.7498C16.4142 13.7498 16.75 13.414 16.75 12.9998C16.75 12.5856 16.4142 12.2498 16 12.2498H13C12.5858 12.2498 12.25 12.5856 12.25 12.9998C12.25 13.414 12.5858 13.7498 13 13.7498H16Z"
              fill="#FF375E"
            />
            <path
              d="M16 17.7498C16.4142 17.7498 16.75 17.414 16.75 16.9998C16.75 16.5856 16.4142 16.2498 16 16.2498L9 16.2498C8.58579 16.2498 8.25 16.5856 8.25 16.9998C8.25 17.414 8.58579 17.7498 9 17.7498H16Z"
              fill="#FF375E"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M12.0537 22.7499H11.1839C9.59005 22.7499 8.33489 22.7499 7.33912 22.6461C6.32238 22.5401 5.48632 22.319 4.7711 21.8151C4.3893 21.5461 4.04882 21.226 3.76073 20.8638C3.21584 20.1788 2.97549 19.3732 2.8611 18.401C2.74998 17.4566 2.74999 16.2691 2.75 14.7752V12.1544C2.75 10.696 2.75 9.5642 2.81024 8.65084C2.87131 7.72503 2.99654 6.9716 3.27169 6.2773C4.1098 4.16241 5.87464 2.51121 8.08994 1.73355C9.46881 1.24951 11.1607 1.24964 14.1261 1.24985L14.4888 1.24984C16.124 1.2495 17.143 1.24929 17.9836 1.5444C19.3327 2.01798 20.4143 3.02609 20.9293 4.32569C21.1039 4.76643 21.1789 5.23433 21.2149 5.77926C21.25 6.31184 21.25 6.96735 21.25 7.79169V14.0594C21.25 15.8945 21.25 17.3528 21.0869 18.495C20.9181 19.6761 20.562 20.6283 19.7692 21.3744C18.9829 22.1145 17.9901 22.4415 16.7576 22.5975C15.5532 22.7499 14.0117 22.7499 12.0537 22.7499ZM16.5693 21.1093C17.6514 20.9724 18.2827 20.7136 18.7412 20.2821C19.1932 19.8567 19.4594 19.2804 19.6019 18.2829C19.7482 17.259 19.75 15.908 19.75 13.9999V7.81804C19.75 6.96153 19.7496 6.35542 19.7181 5.87799C19.6871 5.40725 19.6281 5.11376 19.5348 4.87832C19.1882 4.00383 18.4477 3.29704 17.4868 2.95973C16.9195 2.76057 16.1807 2.74986 14.3182 2.74986C13.9977 2.74986 13.695 2.74997 13.4089 2.75055C12.0247 2.79896 10.9174 3.93631 10.9174 5.33228C10.9174 5.47941 10.9239 5.63759 10.9322 5.81518L10.9352 5.881C10.9425 6.0359 10.9504 6.20453 10.9539 6.37264C10.9618 6.75273 10.9498 7.19627 10.8351 7.62442C10.6116 8.45839 9.96023 9.1098 9.12626 9.33326C8.69811 9.44798 8.25457 9.45999 7.87448 9.4521C7.70636 9.4486 7.5378 9.44068 7.3829 9.4334L7.31702 9.43032C7.13942 9.42208 6.98124 9.41561 6.83411 9.41561C5.40737 9.41561 4.25078 10.5722 4.25078 11.9989C4.25078 12.0105 4.25052 12.0219 4.25 12.0333C4.25 12.0823 4.25 12.1318 4.25 12.1817V14.7271C4.25 16.28 4.25121 17.3792 4.35083 18.2258C4.44836 19.0547 4.63186 19.5494 4.93467 19.9301C5.13234 20.1786 5.36794 20.4007 5.63504 20.5889C6.05221 20.8828 6.59765 21.0607 7.49462 21.1542C8.40354 21.2489 9.58055 21.2499 11.2273 21.2499H12C14.0235 21.2499 15.47 21.2484 16.5693 21.1093ZM4.30415 8.79359C4.99977 8.24379 5.87861 7.91561 6.83411 7.91561C7.01987 7.91561 7.20948 7.92372 7.38653 7.93193L7.4544 7.9351C7.61108 7.94245 7.75857 7.94937 7.90562 7.95242C8.24626 7.95949 8.51885 7.9431 8.73803 7.88437C9.05436 7.79961 9.30145 7.55253 9.38621 7.23619C9.44494 7.01701 9.46133 6.74443 9.45425 6.40378C9.4512 6.25676 9.44429 6.10929 9.43694 5.95263L9.43377 5.8847C9.42555 5.70764 9.41744 5.51804 9.41744 5.33228C9.41744 4.3897 9.73682 3.52171 10.2732 2.83063C9.58007 2.88747 9.05581 2.98423 8.58678 3.14888C6.75964 3.79028 5.33582 5.14016 4.66618 6.82993C4.47239 7.31893 4.36316 7.89795 4.30699 8.74956C4.30603 8.76417 4.30508 8.77885 4.30415 8.79359Z"
              fill="#FF375E"
            />
          </svg>

          <p className="text-sm font-normal leading-8 text-start text-secondrytext">
            6 إختبارات{" "}
          </p>
        </div>
        <div className="flex items-center gap-2">
          <svg
            width="22"
            height="22"
            viewBox="0 0 22 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M13.0564 0.25H8.94358C7.10583 0.249985 5.65019 0.249972 4.51098 0.403136C3.33856 0.560764 2.38961 0.892881 1.64124 1.64124C0.892881 2.38961 0.560764 3.33856 0.403136 4.51098C0.249972 5.65019 0.249985 7.10582 0.25 8.94357V9.05642C0.249985 10.8942 0.249972 12.3498 0.403136 13.489C0.560764 14.6614 0.892881 15.6104 1.64124 16.3588C2.67009 17.3876 4.08744 17.6363 5.96888 17.7144C6.38274 17.7316 6.73217 17.41 6.74935 16.9962C6.76654 16.5823 6.44498 16.2329 6.03112 16.2157C4.16796 16.1383 3.2894 15.8856 2.7019 15.2981C2.27869 14.8749 2.02503 14.2952 1.88976 13.2892C1.75159 12.2615 1.75 10.9068 1.75 9C1.75 7.09318 1.75159 5.73851 1.88976 4.71085C2.02503 3.70476 2.27869 3.12511 2.7019 2.7019C3.12511 2.27869 3.70476 2.02503 4.71085 1.88976C5.73851 1.75159 7.09318 1.75 9 1.75H13C14.9068 1.75 16.2615 1.75159 17.2892 1.88976C18.2952 2.02503 18.8749 2.27869 19.2981 2.7019C19.7213 3.12511 19.975 3.70476 20.1102 4.71085C20.2484 5.73851 20.25 7.09318 20.25 9C20.25 10.9068 20.2484 12.2615 20.1102 13.2892C19.975 14.2952 19.7213 14.8749 19.2981 15.2981C18.8891 15.7071 18.3343 15.9574 17.3911 16.0959C16.9812 16.1561 16.6978 16.5371 16.758 16.9469C16.8181 17.3567 17.1991 17.6402 17.6089 17.58C18.7268 17.4159 19.6364 17.0811 20.3588 16.3588C21.1071 15.6104 21.4392 14.6614 21.5969 13.489C21.75 12.3498 21.75 10.8942 21.75 9.05646V8.94359C21.75 7.10585 21.75 5.65018 21.5969 4.51098C21.4392 3.33856 21.1071 2.38961 20.3588 1.64124C19.6104 0.892881 18.6614 0.560764 17.489 0.403136C16.3498 0.249972 14.8942 0.249985 13.0564 0.25Z"
              fill="#FF375E"
            />
            <path
              d="M16 6.75C16.4142 6.75 16.75 6.41421 16.75 6C16.75 5.58579 16.4142 5.25 16 5.25H6C5.58579 5.25 5.25 5.58579 5.25 6C5.25 6.41421 5.58579 6.75 6 6.75H16Z"
              fill="#FF375E"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M9.5989 16.4333C10.0231 16.6363 10.4983 16.75 11 16.75C12.7949 16.75 14.25 15.2949 14.25 13.5C14.25 11.7051 12.7949 10.25 11 10.25C9.20507 10.25 7.75 11.7051 7.75 13.5C7.75 17.6297 9.44112 20.068 10.2783 21.275C10.3145 21.3273 10.3494 21.3777 10.3823 21.4254C10.5328 21.6439 10.7876 21.7667 11.0522 21.7482C11.3169 21.7297 11.5522 21.5727 11.6708 21.3354L12.8163 19.0445L15.6279 20.6512C15.9561 20.8387 16.3727 20.7527 16.5997 20.4504C16.8267 20.1481 16.7933 19.7241 16.5217 19.4611C16.4169 19.3598 16.2741 19.162 16.1102 18.8708C15.9529 18.5911 15.8005 18.2696 15.6654 17.9583C15.5311 17.6487 15.4181 17.3588 15.3385 17.1459C15.2988 17.0398 15.2678 16.9535 15.2468 16.8944C15.2364 16.8648 15.2285 16.8421 15.2233 16.8271L15.2176 16.8106L15.2161 16.8062C15.0831 16.414 14.6574 16.2038 14.2651 16.3367C13.882 16.4665 13.6724 16.8758 13.7867 17.2603C13.7888 17.2663 13.7933 17.2795 13.7988 17.2957C13.8099 17.3283 13.8251 17.373 13.8329 17.3952C13.8564 17.4614 13.8904 17.5558 13.9334 17.671C13.9728 17.7764 14.02 17.8999 14.0738 18.0355L12.8721 17.3488C12.6931 17.2465 12.48 17.2224 12.2827 17.2822C12.0854 17.3419 11.9214 17.4802 11.8292 17.6646L10.907 19.5089C10.4394 18.7488 9.92806 17.7436 9.5989 16.4333ZM11 11.75C10.0335 11.75 9.25 12.5335 9.25 13.5C9.25 14.4665 10.0335 15.25 11 15.25C11.9665 15.25 12.75 14.4665 12.75 13.5C12.75 12.5335 11.9665 11.75 11 11.75Z"
              fill="#FF375E"
            />
          </svg>

          <p className="text-sm font-normal leading-8 text-start text-secondrytext">
            شهاده إتمام{" "}
          </p>
        </div>
      </div>
      <div className="mt-8 flex items-center  gap-5">
        <CustomBtn
          onClick={() => {
            handleaddToCart(course);
          }}
          title={"اضف الي السلة"}
          buttonType="button"
          loader={addToCartLoading}
          disabled={addToCartLoading}
          button
          className=" !w-full !h-[56px] !rounded-full  !mt-[20px] !font-medium text-sm"
          rightIcon={<Cart5 className="size-6" />}
        />
        <button
          type="button"
          className={`${
            isFavouriteState ? "bg-secprimary" : "bg-greynormal"
          } custom-box-shadow-3 w-[48px] h-[48px] min-w-[48px] min-h-[48px] rounded-full flex items-center justify-center p-2`}
          onClick={() => handleFavouriteToggle(course?.id)}
          disabled={addToCartLoading}
        >
          <Heart
            className={`size-6`}
            color={isFavouriteState ? "#4f008c" : ""}
          />
        </button>
      </div>
      <button
        type="button"
        className="text-base  font-normal leading-5 w-full bg-white text-primary  hover:bg-primary  hover:text-white border border-primary p-4 px-8 rounded-full transition-colors"
        onClick={() => {
          handleaddToCart(course);
        }}
        disabled={addToCartLoading}
      >
        شراء الآن
      </button>
      <div className="w-full bg-secsuccess text-darksuccess grid justify-center gap-2 p-4 rounded-2xl">
        <p className="text-sm font-medium leading-6 text-center">يبدأ من</p>
        <p className="text-sm font-medium leading-6 text-center flex gap-2">
          <svg
            width="19"
            height="20"
            viewBox="0 0 19 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M7.83333 10.8333C7.83333 10.3731 8.20643 10 8.66667 10H12.8333C13.2936 10 13.6667 10.3731 13.6667 10.8333C13.6667 11.2936 13.2936 11.6667 12.8333 11.6667H8.66667C8.20643 11.6667 7.83333 11.2936 7.83333 10.8333Z"
              fill="#0F7177"
            />
            <path
              d="M5.33333 10.8333C5.33333 10.3731 5.70643 10 6.16667 10H6.17415C6.63439 10 7.00748 10.3731 7.00748 10.8333C7.00748 11.2936 6.63439 11.6667 6.17415 11.6667H6.16667C5.70643 11.6667 5.33333 11.2936 5.33333 10.8333Z"
              fill="#0F7177"
            />
            <path
              d="M5.33333 14.1667C5.33333 13.7064 5.70643 13.3333 6.16667 13.3333H10.3333C10.7936 13.3333 11.1667 13.7064 11.1667 14.1667C11.1667 14.6269 10.7936 15 10.3333 15H6.16667C5.70643 15 5.33333 14.6269 5.33333 14.1667Z"
              fill="#0F7177"
            />
            <path
              d="M11.9925 14.1667C11.9925 13.7064 12.3656 13.3333 12.8258 13.3333H12.8333C13.2936 13.3333 13.6667 13.7064 13.6667 14.1667C13.6667 14.6269 13.2936 15 12.8333 15H12.8258C12.3656 15 11.9925 14.6269 11.9925 14.1667Z"
              fill="#0F7177"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M5.33333 1.66667C5.33333 1.20643 4.96024 0.833336 4.5 0.833336C4.03976 0.833336 3.66667 1.20643 3.66667 1.66667V2.04071C3.03235 2.24192 2.48111 2.55828 2.01502 3.06217C1.32458 3.80859 1.02732 4.74394 0.886801 5.87388C0.749973 6.97412 0.749985 8.37838 0.75 10.1449V10.6884C0.749985 12.4549 0.749973 13.8592 0.886801 14.9595C1.02732 16.0894 1.32458 17.0247 2.01502 17.7712C2.714 18.5268 3.60446 18.8608 4.67944 19.017C5.70951 19.1667 7.0191 19.1667 8.64267 19.1667H10.3573C11.9809 19.1667 13.2905 19.1667 14.3206 19.017C15.3955 18.8608 16.286 18.5268 16.985 17.7712C17.6754 17.0247 17.9727 16.0894 18.1132 14.9595C18.25 13.8592 18.25 12.4549 18.25 10.6884V10.1449C18.25 8.3784 18.25 6.97412 18.1132 5.87388C17.9727 4.74394 17.6754 3.80859 16.985 3.06217C16.5189 2.55828 15.9677 2.24192 15.3333 2.04071V1.66667C15.3333 1.20643 14.9602 0.833336 14.5 0.833336C14.0398 0.833336 13.6667 1.20643 13.6667 1.66667V1.74311C12.7525 1.66663 11.6552 1.66665 10.3573 1.66667H8.64269C7.34479 1.66665 6.24754 1.66663 5.33333 1.74311V1.66667ZM2.55321 7.62014C2.67491 7.50001 2.86601 7.50001 3.24819 7.50001H15.7518C16.134 7.50001 16.3251 7.50001 16.4468 7.62014C16.5685 7.74028 16.5709 7.92894 16.5758 8.30626C16.5831 8.86723 16.5833 9.49516 16.5833 10.2027V10.6306C16.5833 12.468 16.5818 13.7684 16.4593 14.7538C16.3389 15.7214 16.1145 16.2578 15.7615 16.6394C15.417 17.0118 14.9461 17.2419 14.0808 17.3677C13.1845 17.4979 11.9965 17.5 10.2917 17.5H8.70833C7.00355 17.5 5.81548 17.4979 4.91917 17.3677C4.05392 17.2419 3.58297 17.0118 3.23852 16.6394C2.88552 16.2578 2.66106 15.7214 2.54073 14.7538C2.41819 13.7684 2.41667 12.468 2.41667 10.6306V10.2027C2.41667 9.49516 2.41689 8.86723 2.42417 8.30626C2.42906 7.92894 2.43151 7.74028 2.55321 7.62014Z"
              fill="#0F7177"
            />
          </svg>
          20 مارس 2024
        </p>
      </div>
    </div>
  );
}
